<properties 
    pageTitle="Overføre undtagelser | Microsoft Azure"
    description="Liste over Relay undtagelser og foreslåede handlinger."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Relay undtagelser

I denne artikel vises nogle undtagelser, der er oprettet af Microsoft Azure Relay API'er. Denne reference kan ændres, så Hold øje med kommende opdateringer.

## <a name="exception-categories"></a>Undtagelse kategorier

Relay-API'er generere undtagelser, der kan falder inden for følgende kategorier, sammen med den tilknyttede handling, du kan udføre for at forsøge at løse dem.

1.  Bruger kodningssprog fejl ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), ["system.InvalidOperationException"](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Generelle handling: forsøge at løse koden, før du fortsætter.

2.  Konfiguration af/konfigurationsfejl ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Generelle handling: Gennemse din konfiguration og ændre, hvis det er nødvendigt.

3.  Midlertidige undtagelser ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Generelle handling: forsøge igen eller give brugere besked.

4.  Andre undtagelser ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Generelle handling: specifik for Undtagelsestype; Se tabellen i følgende afsnit. 

## <a name="exception-types"></a>Typer af undtagelse

I følgende tabel vises typer af SMS undtagelse og deres årsager og noter foreslået handling, du kan udføre.

| **Undtagelsestype**                                                                                                                                                                                                                                                                                | **Beskrivelse/årsag/eksempler**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Foreslået handling**                                                                                                                                                                                                                                                                                                                                                                                                          | **Bemærkning om automatisk/omgående**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Serveren svarede ikke på den ønskede handling i det angivne tidspunkt som styres af [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). Serveren, der muligvis har fuldført den ønskede handling. Dette kan ske på grund af netværks- eller andre infrastruktur forsinkelser.                                                                                                                                                                                                                                                                   | Kontrollere systemets tilstand for konsistens, og prøv igen, hvis det er nødvendigt. Se [Timeout undtagelser](#timeoutexception).                                                                                                                                                                                                                                                                                                                                                           | Prøv igen være en hjælp i nogle tilfælde føje forsøg til kode.                                                                      |
| [InvalidOperationException opstår](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | Handlingen brugeren er ikke tilladt på serveren eller-tjeneste. Se Undtagelsesmeddelelsen få mere at vide. For eksempel generere [færdigt](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) denne undtagelse, hvis meddelelsen er modtaget i **ReceiveAndDelete** tilstand.                                                                                                                                                                                                                                                                                                     | Kontrollér koden og dokumentationen. Kontrollér, at den ønskede handling er gyldig.                                                                                                                                                                                                                                                                                                                                         | Forsøg hjælpe ikke.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Er forsøgt at kalde en handling på et objekt, der allerede er lukket, afbrudt eller fjernet. I sjældne tilfælde er den omgivende transaktion allerede fjernet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Markér koden, og Sørg for, at det ikke starte handlinger på et fjernet objekt.                                                                                                                                                                                                                                                                                                                                          | Forsøg hjælpe ikke.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | [En TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) objektet kunne ikke hentes et token, Tokenet er ugyldig, eller tokenet indeholder ikke de krav, der kræves for at udføre handlingen.                                                                                                                                                                                                                                                                                                                                                                                                  | Kontrollér, at provideren token er oprettet med de korrekte værdier. Kontrollere konfigurationen af tjenesten adgangskontrol.                                                                                                                                                                                                                                                                                                   | Prøv igen være en hjælp i nogle tilfælde føje forsøg til kode.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Et eller flere argumenter, der er leveret til metoden, er ugyldige.<br /> URI leveret til [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) eller [Opret](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) indeholder stien segment(s).<br /> URI-skemaet leveret til [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) eller [Opret](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) er ugyldig. <br />Egenskabsværdien er større end 32KB. | Markér koden opkald, og Sørg for, at argumenterne er korrekte.                                                                                                                                                                                                                                                                                                                                                           | Forsøg hjælpe ikke.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Tjenesten er ikke muligt at behandle anmodningen på nuværende tidspunkt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Klient kan vente til et stykke tid og derefter prøve igen.                                                                                                                                                                                                                                                                                                                                                           | Klient kan prøv igen efter bestemt interval. Hvis et nyt forsøg resulterer i en anden undtagelser, Markér forsøg funktionsmåden for undtagelsen. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | Objektet SMS er nået frem til den maksimalt tilladte størrelse.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Lave plads i objektet ved at modtage meddelelser fra objektet eller dens underordnede køer. Se [QuotaExceededException](#quotaexceededexception).                                                                                                                                                                                                                                                                                                                                      | Prøv igen kan hjælpe dig, hvis meddelelser er blevet fjernet i mellemtiden.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | En meddelelse data overstiger grænsen på 256K. Bemærk, at grænsen på 256 k meddelelsernes samlede størrelse, som kan indeholde egenskaber for system og en hvilken som helst .NET omkostninger.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Reducere størrelsen på meddelelsen data, og derefter prøve igen.                                                                                                                                                                                                                                                                                                                                                         | Forsøg hjælpe ikke.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) angiver, at en kvote for en bestemt enhed er overskredet.

Denne undtagelse ombrydes til Relay, den [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), der angiver, at det maksimale antal lyttere er overskredet for dette slutpunkt. Dette er angivet i værdien **MaximumListenersPerEndpoint** af Undtagelsesmeddelelsen.

## <a name="timeoutexception"></a>TimeoutException 

En [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) angiver, at handlingen brugerinitieret tager længere tid end timeout for operation. 

Du skal kontrollere værdien af egenskaben [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) , som nå denne grænse kan også medføre en [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx).

Du kan modtage timeout undtagelser til Relay, når du først åbner en relay afsender forbindelse. Der er to almindelige årsager til denne undtagelse:

1. Værdien [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) være for små (lige en brøkdel af et sekund).
2. Lokalt relay listener(s) muligvis ikke svarede (eller kan støde på, at forbyde lytterne i at acceptere nye klientforbindelser problemer med firewalls regler), og værdien [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) er mindre end om 20 sekunder.

Eksempel:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Almindelige årsager

Der er to almindelige årsager til denne fejl: forkert konfiguration, eller en midlertidig tjenestefejl.

1. **Forkert konfiguration** 
    timeout for operation kan være for lille til betingelsen funktionsdygtige. Standardværdien for timeout for operation i klient-SDK er 60 sekunder. Kontrollér for at se, om din kode har værdien, der er indstillet til noget for lille. Bemærk, at betingelsen i Netværks- og CPU-brug kan påvirke den tid, det tager for en bestemt handling til at fuldføre, så timeout for operation ikke må være angivet til en meget lille værdi.

2. **Midlertidige tjenestefejl** 
    nogle gange Relay kan opleve forsinkelser i behandling af anmodninger om; for eksempel i perioder med høj trafik. Du kan prøve handlingen efter en forsinkelse i så fald indtil handlingen blev fuldført. Hvis den samme handling stadig ikke efter flere forsøg, skal du gå til [Azure service status websted](https://azure.microsoft.com/status/) til at se, om der er afbrydelser kendte tjeneste.

## <a name="next-steps"></a>Næste trin:

- [Relay ofte stillede spørgsmål](relay-faq.md)
- [Oprette et navneområde](relay-create-namespace-portal.md)
- [Introduktion til .NET](relay-hybrid-connections-dotnet-get-started.md)
- [Komme i gang med Node](relay-hybrid-connections-node-get-started.md)